{% load static %}

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Easy Psycho Study - Novo questionário</title>

    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/ie10-viewport-bug-workaround.css' %}">
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <link rel="stylesheet" href="{% static 'css/new_form.css' %}">
    <link rel="stylesheet" href="{% static 'css/toastr.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">

</head>

<!-- Fixed navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand navbar-title-white">Novo Questionário</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse navbar-right">

            <button type="button" class="btn btn-default navbar-btn btn-wide"
                    onclick="visualization()" data-toggle="modal"
                    data-target="#modal-for-full-screen">
                <span class="glyphicon glyphicon-eye-open"></span> Pré-Visualizar
            </button>

            <button type="button" class="btn btn-info navbar-btn btn-wide"><span
                    class="glyphicon glyphicon-question-sign"></span> Ajuda
            </button>

            <button type="button" class="btn btn-success navbar-btn btn-wide"
                    onclick="submitForm()">
                <span class="glyphicon glyphicon-floppy-saved"></span> Guardar
            </button>

            <button type="button" class="btn btn-danger navbar-btn btn-wide"
                    data-toggle="modal"
                    data-target="#modal-for-cancel">
                <span class="glyphicon glyphicon-floppy-remove"></span> Cancelar
            </button>

        </div><!-- /.nav-collapse -->
    </div>
</nav>

<body>

<!-- Modal  for canceling form creation -->
<div class="modal fade" id="modal-for-cancel" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <p style="font-size: large; font-weight: bold;" align="center" class="modal-title">Cancelar Novo
                    Questionário</p>
            </div>
            <div class="modal-body">
                <p align="center">Tem certeza que deseja cancelar a criação deste questionário?</p>
                <p align="center">
                    <button type="button" class="btn btn-success" value="click" id="cancel-form">
                        <span class="glyphicon glyphicon-ok"></span> Sim
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal"><span
                            class="glyphicon glyphicon-remove"></span> Não
                    </button>
                </p>
            </div>
        </div>

    </div>
</div>

<br/>

<div class="container">
    <div class="row">

        <div class="col-sm-3">

            <div class="alert alert-success alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                <span class="glyphicon glyphicon-ok-sign"></span> O seu questionário <strong>deve conter sempre</strong>:
                <ul>
                    <li>Nome;</li>
                    <li>Descrição;</li>
                    <li>Estilo (branco/preto);</li>
                    <li>Uma ou mais tarefas com elementos.</li>
                </ul>
            </div>

            <div class="alert alert-info alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                <span class="glyphicon glyphicon-info-sign"></span> Clique sempre no botão <strong><span
                    class="glyphicon glyphicon-import"></span> Carregar</strong> quando fizer importação de imagens após
                a pesquisa, caso contrário estas não aparecerão no seu questionário.
            </div>

        </div> <!-- ./ col-sm-3 -->

        <div class="col-sm-6">
            <form id="form-questionnaire">

                <div class="form-group"> <!-- form name -->
                    <label for="form-name">Nome do questionário</label> <span class="mandatory">*</span>
                    <input type="text" class="form-control" id="form-name">
                </div> <!-- end of form name -->

                <div class="form-group"> <!-- form description -->
                    <label for="form-description">Descrição do questionário</label> <span class="mandatory">*</span>
                    <textarea class="form-control" rows="3" id="form-description"></textarea>
                </div> <!-- end of form description -->

                <div class="form-group"> <!-- form style -->
                    <label>Estilo do questionário</label><span class="mandatory">*</span><br/>
                    <label class="radio-inline"><input type="radio" name="optradio" value="preto">Fundo
                        preto</label>
                    <label class="radio-inline"><input type="radio" name="optradio" value="branco">Fundo
                        branco</label>
                </div> <!-- end of form style -->

                <label>Miniatura do questionário</label><br/> <!-- form thumbnail -->
                <div class="input-group" id="form-thumbnail">
                    <label class="input-group-btn">
                        <span class="btn btn-default">
                            <span class="glyphicon glyphicon-folder-open"></span> Pesquisar
                            <input style="display: none;" type="file" id="input-thumbnail" onchange="getFileNames(0)">
                        </span>
                        <button class="btn btn-primary" type="button" onclick="saveThumbnail()"><span
                                class="glyphicon glyphicon-import"></span>Carregar
                        </button>
                    </label>
                    <input id="files-selected" type="text" class="form-control" readonly>
                </div> <!-- end of form thumbnail -->

                <br/>
                <div id="content-added-by-user" class="form-group"> <!-- user content -->
                    <!-- Here stays the content inserted by the user -->
                </div> <!-- end of user content -->
            </form> <!-- ./form-questionnaire -->
        </div>

        <div class="col-sm-3"></div>

    </div>

    <div class="btn-fixed-down">
        <button style="background-color: #222; color: #FFF;" class="btn btn-md" id="add-break"
                data-toggle="tooltip" data-placement="left" title="Criar nova tarefa">
            <span class="glyphicon glyphicon-align-justify"></span> Criar Tarefa
        </button>
    </div>

</div>

<!-- Modal for Saves -->
<div id="modal-for-saves" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <p align="center"><strong>Aguarde...</strong></p>
                <p align="center">O seu questionário está a ser processado.</p>
            </div>
        </div>

    </div>
</div> <!-- ./ modal-for-saves -->

<!-- Modal for Pre-visualization -->
<div id="modal-for-visualization" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <p align="center"><strong>Aguarde...</strong></p>
                <p align="center">A pré-visualização está a ser gerada.</p>
            </div>
        </div>

    </div>
</div> <!-- ./ modal-for-visualization -->

</body>
</html>

<!-- JavaScript
    ================================================== -->
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/toastr.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/new_form.js' %}"></script>
<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs"
        data-app-key="5lq56uzonzeai0d"></script>

<script>
    /**
     * For toggles
     */
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

<script>
    var csrfToken = "{{ csrf_token }}";
    var urlToPost = "{% url 'new-form' %}";
    var onSuccess = "{% url 'home' %}";
    var defaultThumbnail = "{% static 'images/forms_icon.png' %}";
    var urlToVisualization = "{% url 'preview-form' %}";

</script>